<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.101.0" />

  <title>A Real World Use Case for a Bayesian Reliability Model - How to Incorporate FEA into Risk Estimates &middot; [R]eliability</title>

    

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/css/blackburn.css">

  
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.9.0/css/all.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

 
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/r.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  
  <a class="pure-menu-heading brand" href="/">Riley King</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/contact/"><i class='fa fa-phone fa-fw'></i>Contact</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/tw0handt0uch1" rel="me" target="_blank"><i class="fab fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/riley-king-9594247" rel="me" target="_blank"><i class="fab fa-linkedin"></i></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/tw0handt0uch" rel="me" target="_blank"><i class="fab fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

 <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://www.r-bloggers.com/"><i class="fa fa-rss fa-fw"></i>R-Bloggers</a>
    </li>

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2019. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>A Real World Use Case for a Bayesian Reliability Model - How to Incorporate FEA into Risk Estimates</h1>
  <h2></h2>
</div>
<div class="content">

  <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>29 Dec 2021</time>
  </div>

  

  

  
  
  
  <div>
    <i class="fa fa-tags fa-fw"></i>
    
      <a class="post-taxonomy-tag" href="/tags/r">R</a>
    
  </div>
  
  

</div>

  
<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>Frequentist statistical methods, despite their flaws, are generally serviceable for a large suite of practical problems faced by engineers during product development of medical devices. But even in domains where simple models usually do the trick, there remain instances where a Bayesian approach is the best (and perhaps only logical) way to tackle a problem.</p>
<p>In the rest of this post, I will lay out a technical use-case and associated modeling workflow that is based on a real business problem encountered in the medical device industry. Note: specifics have been changed to respect the privacy of the company and the product. Here we go.</p>
<ul>
<li><a href="#libraries">Libraries</a></li>
<li><a href="#background">Background</a></li>
<li><a href="#analysis">Analysis</a>
<ul>
<li><a href="#data-for-probability-of-fracture-occurring-(p1)">Data for Probability of Fracture Occurring (P1)</a></li>
<li><a href="#data-for-probability-of-fracture-leading-to-harm-(p2)">Data for Probability of Fracture Leading to Harm (P2)</a></li>
<li><a href="#modeling">Modeling</a>
<ul>
<li><a href="#model-for-p1">Model for P1</a></li>
<li><a href="#model-for-p2">Model for P2</a></li>
<li><a href="#model-for-ph">Model for Ph</a></li>
</ul></li>
<li><a href="#sessioninfo">SessionInfo</a></li>
</ul></li>
</ul>
<div id="libraries" class="section level1">
<h1>Libraries</h1>
<pre class="r"><code>library(tidyverse)
library(gt)
library(tidybayes)</code></pre>
</div>
<div id="background" class="section level1">
<h1>Background</h1>
<p>The problem background is this:</p>
<p>Vascular implants like stents and heart valves are tested extensively on the bench prior to approval for clinical use. When fractures (failures) occur, it is the job of the engineering team to determine if the failure was due to the design of the implant itself or a special cause and also assess the potential risk to the patient.</p>
<p><strong>Assume that we have observed an <em>unanticipated fracture</em> late in the design process - during the 3rd of 3 planned rounds of testing.</strong></p>
<p>An investigation is unable to identify a special cause beyond the design of the implant. Management therefore wishes the understand the risk of a <strong>harm</strong> occurring in a patient implanted with this product based solely on the test data available, plus any additional information that may help inform the analysis, assuming no special cause for the fracture.</p>
<p>The probability of a patient harm occurring due to a fracture can be broken down into two components as follows:<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
<p><span class="math display">\[\mbox P_1 = \mbox{Probability of Fracture Occurring}\\\mbox P_2 = \mbox{Probability of Fracture Leading to a Harm}\]</span></p>
<p>Assuming independence, the probability of harm from the fracture is then:</p>
<p><span class="math display">\[\mbox P_h = \mathrm{P}(P_1 \cap P_2) = \mbox P_1 \mbox{ x }\mbox P_2\]</span></p>
<p>Our challenge is: how to develop an estimate of <span class="math inline">\(\mbox P_1 \mbox{ , }\mbox P_2 \mbox{ , and }\mbox P_h\)</span> that incorporates the benchtop test data and our domain knowledge while also propagating uncertainty throughout the calculation.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>First, lets see what data and information we have available. Assume the following benchtop data and/or computer simulation (FEA) data are available to inform each estimate:</p>
</div>
<div id="analysis" class="section level1">
<h1>Analysis</h1>
<div id="data-for-probability-of-fracture-occurring-p1" class="section level2">
<h2>Data for Probability of Fracture Occurring (P1)</h2>
<p>To estimate <span class="math inline">\(\mbox P_1\)</span> we have 3 rounds of benchtop data, where each outcome is a pass/fail representing fracture or no fracture.</p>
<blockquote>
<ul>
<li>Round 1: 6 parts tested and all 6 passed (0 failures)</li>
<li>Round 2: 5 parts tested and all 5 passed (0 failures)</li>
<li>Round 3: 12 parts tested and 11 passed (1 failure). This is the failure that triggered the investigation.</li>
</ul>
</blockquote>
</div>
<div id="data-for-probability-of-fracture-leading-to-harm-p2" class="section level2">
<h2>Data for Probability of Fracture Leading to Harm (P2)</h2>
<p>To simplify the problem, we’ll only consider one patient harm: embolism due to broken pieces of the implant migrating within the body. In order for this to happen, the first fracture (as observed on the bench in part 1, round 3) must cascade into additional fractures and eventual loss of overall implant integrity. In order to assess this <span class="math inline">\(\mbox P_2\)</span> risk, we have 2 inputs:</p>
<blockquote>
<ul>
<li>Input 1: A finite element analysis (FEA) simulation concluding that when 1 fracture occurs, the strain levels at other locations in the implant are not expected to rise to levels where we would anticipate additional fractures and loss of overall implant integrity</li>
<li>Input 2: A benchtop study in which 6 parts were intentionally fractured at the location of interest continued to cycle; none of the 6 showed any additional fractures after the first (0 failures)</li>
</ul>
</blockquote>
<p>Note: FEA is a way to simulate stresses and strain in a model under specific assumptions of boundary conditions, geometries, material properties, etc. See below for an example of predicted strain amplitudes in a nitinol component via FEA.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/superelastic%20nitinol.png" style="width:100.0%" /></p>
</div>
<div id="modeling" class="section level2">
<h2>Modeling</h2>
<p>We want a model that can use all the available information which includes several rounds of benchtop data and a computer simulation. A beta-binomial Bayesian model is a reasonable choice for both technical and business reasons, a few of which are shown below:<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
<blockquote>
<ul>
<li>The model is simple, with an analytic solution available (to avoid needing to validate an MCMC sampler and supporting code)</li>
<li>There is domain knowledge (FEA moel) available that needs to be incorporated into the analysis</li>
<li>The outcome can be easily understood by a general audience</li>
</ul>
</blockquote>
<p>To generate the posterior probabilities for <span class="math inline">\(\mbox P_1\)</span> we need nothing more than addition. The two parameters in the model are the cumulative sum of the 1+passes and 1+fails, respectively.</p>
<p><span class="math display">\[\mbox P_1 \sim \mbox{Beta}(\alpha_0+\mbox{fails}, \beta_0+\mbox{passes})\]</span></p>
<div id="model-for-p1" class="section level3">
<h3>Model for P1</h3>
<p>For <span class="math inline">\(\mbox P_1\)</span> we can choose to start with a flat prior where <span class="math inline">\(\alpha_0\)</span> and <span class="math inline">\(\beta_0\)</span> are 1. This implies we don’t know anything about whether or not the part may fracture.</p>
<div id="before-seeing-data" class="section level4">
<h4>Before Seeing Data</h4>
<pre class="r"><code>p_1 &lt;- tibble(x_canvas = c(0, 1))

alpha &lt;- 1
beta &lt;- 1

plot_p1_fcn &lt;- function(a, b) {
  p_1 %&gt;%
    ggplot(aes(x = x_canvas)) +
    stat_function(
      fun = dbeta,
      args = list(a, b),
      color = &quot;#2c3e50&quot;,
      size = 1,
      alpha = .8
    ) +
    #  ylim(c(0, 1.5)) +
    labs(
      y = &quot;&quot;,
      x = &quot;P1: Probability of Fracture&quot;,
      title = &quot;Credible Estimates for P1&quot;,
      subtitle = str_glue(&quot;Beta ({a}, {b})&quot;)
    ) +
    theme_bw() +
    theme(
      axis.text.y = element_blank(),
      axis.ticks.y = element_blank()
    )
}

plot_p1_fcn(a = alpha, b = beta)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-3-1.png" width="100%" height="500px" /></p>
</div>
<div id="add-round-1-benchtop-data" class="section level4">
<h4>Add Round 1 Benchtop Data</h4>
<p>Recall from above:</p>
<p>Round 1: 6 parts tested and all 6 passed (0 failures). So we add 6 to the cumulative sum for b and nothing to a.</p>
<pre class="r"><code>alpha &lt;- 1
beta &lt;- 7

plot_p1_fcn(a = alpha, b = beta)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-4-1.png" width="100%" height="500px" /></p>
</div>
<div id="add-round-2-benchtop-data" class="section level4">
<h4>Add Round 2 Benchtop Data</h4>
<p>Recall from above:</p>
<p>Round 2: 5 parts tested and all 5 passed (0 failures). So we add 5 to the cumulative sum for b and nothing to a.</p>
<pre class="r"><code>alpha &lt;- 1
beta &lt;- 12

plot_p1_fcn(a = alpha, b = beta)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-5-1.png" width="100%" height="500px" /></p>
</div>
<div id="add-round-3-benchtop-data" class="section level4">
<h4>Add Round 3 Benchtop Data</h4>
<p>Recall from above:</p>
<p>Round 3: 12 parts tested and all 11 passed (1 failure). So we add 11 to the cumulative sum for b and 1 to the cumulative sum for a.</p>
<pre class="r"><code>alpha &lt;- 2
beta &lt;- 23

plot_p1_fcn(a = alpha, b = beta)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-6-1.png" width="100%" height="500px" /></p>
<p>Pausing here to assess, we can see a wide range of values for P1 that are still consistent with the data, ranging from close to 0 up to around .25.</p>
</div>
</div>
<div id="model-for-p2" class="section level3">
<h3>Model for P2</h3>
<p>Now we consider a model for <span class="math inline">\(\mbox P_2\)</span>, the probability of a fracture resulting in a harm (embolism). We can use the same methodology but now we consider additional inputs that are not benchtop data - they are FEA simulations. <strong>FEA cannot be thought of as coming from a sampling distribution</strong> - if we were to run the FEA simultaion a second time we would get the exact same results (recall that the FEA model suggested no cascading fractures we be expected as a result of the first). <strong>Yet this is important knowledge that must inform our risk assessment.</strong> So do we give it the impact of a single benchtop data point? No, this would be too little respect for an engineering analysis of this type.</p>
<p>A way that we could incorporate the FEA output is to consider, as subject matter experts, how much weight we intend to place in the FEA simulation. On the one hand we know that FEA can sometimes yield strange predictions due to mesh sensitivities, material model inaccuracies, or assumptions about the boundary conditions. On the other hand, it is a rigorous piece of engineering information coming from validated software that we would be foolish to ignore.</p>
<p>Assume our team of risk modelers meets with the FEA simulation engineers, discusses potential limitations of the FEA, and aligns on a risk estimate centered around .05 but allowing for credible values down to around .2i ish. We could convert this domain knowledge, coming from our FEA, into a prior that reflects this uncertainty. Something like Beta(1,20) should work well.</p>
<p><strong>Combining this knowledge of the FEA along with our benchtop results is how a Bayesian workflow can really shine in ways that our traditional ways can’t.</strong></p>
<div id="prior-probability-based-on-fea-input-1" class="section level4">
<h4>Prior Probability based on FEA (Input 1)</h4>
<pre class="r"><code>p_2 &lt;- tibble(x_canvas = c(0, 1))

alpha &lt;- 1
beta &lt;- 20

plot_p2_fcn &lt;- function(a, b) {
  p_2 %&gt;%
    ggplot(aes(x = x_canvas)) +
    stat_function(
      fun = dbeta,
      args = list(a, b),
      color = &quot;firebrick&quot;,
      size = 1,
      alpha = .8
    ) +
    #  ylim(c(0, 1.5)) +
    labs(
      y = &quot;&quot;,
      x = &quot;P2: Probability of Fracture resulting in Harm&quot;,
      title = &quot;Credible Estimates for P2&quot;,
      subtitle = str_glue(&quot;Beta ({a}, {b})&quot;)
    ) +
    theme_bw() +
    theme(
      axis.text.y = element_blank(),
      axis.ticks.y = element_blank()
    )
}

plot_p2_fcn(a = alpha, b = beta) +
  labs(caption = &quot;prior probabilities assessed primarily from FEA&quot;)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-7-1.png" width="100%" height="500px" /></p>
</div>
<div id="add-input-2-benchtop-data" class="section level4">
<h4>Add Input 2 (Benchtop Data)</h4>
<p>Now we add our study where we looked at 6 parts that were intentionally fractured and saw no propagation or cascading failures. So we add 6 to the cumulative sum for b and nothing to a.</p>
<pre class="r"><code>alpha &lt;- 1
beta &lt;- 26

plot_p2_fcn(alpha, beta)</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-8-1.png" width="100%" height="500px" /></p>
</div>
</div>
<div id="model-for-ph" class="section level3">
<h3>Model for Ph</h3>
<p>We now have posterior distributions for both <span class="math inline">\(\mbox P_1\)</span>, <span class="math inline">\(\mbox P_2\)</span>, and we need to multiply them together to estimate <span class="math inline">\(\mbox P_h\)</span>. There is probably a way to do this analytically, but most engineers won’t know how beyond multiplying the point estimates. Fortunately we can sample from each of these distributions, multiply the samples together row-wise, and produce an estimate of the posterior for <span class="math inline">\(\mbox P_h\)</span> that reflects the uncertainty in <span class="math inline">\(\mbox P_1\)</span> and <span class="math inline">\(\mbox P_2\)</span>.</p>
<div id="sample-from-p1-posterior-and-visualize" class="section level4">
<h4>Sample from P1 Posterior and Visualize</h4>
<pre class="r"><code>set.seed(123)
n_draws &lt;- 500000

p1_post_draws_tbl &lt;- tibble(draws = rbeta(n = n_draws, shape1 = 2, shape2 = 23))

p1_post_draws_tbl %&gt;%
  gt_preview()</code></pre>
<div id="hiigomxvmh" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#hiigomxvmh .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#hiigomxvmh .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiigomxvmh .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#hiigomxvmh .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#hiigomxvmh .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiigomxvmh .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#hiigomxvmh .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#hiigomxvmh .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#hiigomxvmh .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#hiigomxvmh .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#hiigomxvmh .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#hiigomxvmh .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#hiigomxvmh .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#hiigomxvmh .gt_from_md > :first-child {
  margin-top: 0;
}

#hiigomxvmh .gt_from_md > :last-child {
  margin-bottom: 0;
}

#hiigomxvmh .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#hiigomxvmh .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#hiigomxvmh .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiigomxvmh .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#hiigomxvmh .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#hiigomxvmh .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#hiigomxvmh .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#hiigomxvmh .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#hiigomxvmh .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiigomxvmh .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#hiigomxvmh .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#hiigomxvmh .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#hiigomxvmh .gt_left {
  text-align: left;
}

#hiigomxvmh .gt_center {
  text-align: center;
}

#hiigomxvmh .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#hiigomxvmh .gt_font_normal {
  font-weight: normal;
}

#hiigomxvmh .gt_font_bold {
  font-weight: bold;
}

#hiigomxvmh .gt_font_italic {
  font-style: italic;
}

#hiigomxvmh .gt_super {
  font-size: 65%;
}

#hiigomxvmh .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">draws</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">1</td>
<td class="gt_row gt_right">0.04862055</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">2</td>
<td class="gt_row gt_right">0.06549307</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">3</td>
<td class="gt_row gt_right">0.30463148</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">4</td>
<td class="gt_row gt_right">0.08498940</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">5</td>
<td class="gt_row gt_right">0.08936808</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4;">6..499999</td>
<td class="gt_row gt_right" style="background-color: #E4E4E4;"></td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">500000</td>
<td class="gt_row gt_right">0.02849358</td></tr>
  </tbody>
  
  
</table>
</div>
<pre class="r"><code>p1_post_draws_tbl %&gt;%
  ggplot(aes(x = draws)) +
  geom_histogram(
    binwidth = .002,
    color = &quot;white&quot;,
    fill = &quot;#2c3e50&quot;,
    alpha = 0.8
  ) +
  xlim(c(-0.05, .5)) +
  labs(
    y = &quot;&quot;,
    title = &quot;Samples from P1 Posterior&quot;,
    subtitle = &quot;Current State of Belief&quot;,
    x = &quot;P1: Probability of Fracture&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  )</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-10-1.png" width="100%" height="500px" /></p>
</div>
<div id="sample-from-p2-posterior-and-visualize" class="section level4">
<h4>Sample from P2 Posterior and Visualize</h4>
<pre class="r"><code>set.seed(123)
n_draws &lt;- 500000

p2_post_draws_tbl &lt;- tibble(draws = rbeta(n = n_draws, shape1 = 1, shape2 = 26))

p2_post_draws_tbl %&gt;%
  gt_preview()</code></pre>
<div id="ewlaiusdsg" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#ewlaiusdsg .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ewlaiusdsg .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ewlaiusdsg .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ewlaiusdsg .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ewlaiusdsg .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ewlaiusdsg .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ewlaiusdsg .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ewlaiusdsg .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ewlaiusdsg .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ewlaiusdsg .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ewlaiusdsg .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ewlaiusdsg .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#ewlaiusdsg .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ewlaiusdsg .gt_from_md > :first-child {
  margin-top: 0;
}

#ewlaiusdsg .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ewlaiusdsg .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ewlaiusdsg .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#ewlaiusdsg .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ewlaiusdsg .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#ewlaiusdsg .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ewlaiusdsg .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ewlaiusdsg .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ewlaiusdsg .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ewlaiusdsg .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ewlaiusdsg .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#ewlaiusdsg .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ewlaiusdsg .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#ewlaiusdsg .gt_left {
  text-align: left;
}

#ewlaiusdsg .gt_center {
  text-align: center;
}

#ewlaiusdsg .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ewlaiusdsg .gt_font_normal {
  font-weight: normal;
}

#ewlaiusdsg .gt_font_bold {
  font-weight: bold;
}

#ewlaiusdsg .gt_font_italic {
  font-style: italic;
}

#ewlaiusdsg .gt_super {
  font-size: 65%;
}

#ewlaiusdsg .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1"></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">draws</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">1</td>
<td class="gt_row gt_right">0.0526550965</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">2</td>
<td class="gt_row gt_right">0.0024287487</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">3</td>
<td class="gt_row gt_right">0.0332258372</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">4</td>
<td class="gt_row gt_right">0.0303373980</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">5</td>
<td class="gt_row gt_right">0.0017321513</td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier; font-size: x-small; background-color: #E4E4E4;">6..499999</td>
<td class="gt_row gt_right" style="background-color: #E4E4E4;"></td></tr>
    <tr><td class="gt_row gt_left gt_stub" style="font-family: Courier;">500000</td>
<td class="gt_row gt_right">0.0002236549</td></tr>
  </tbody>
  
  
</table>
</div>
<pre class="r"><code>p2_post_draws_tbl %&gt;%
  ggplot(aes(x = draws)) +
  geom_histogram(
    binwidth = .002,
    color = &quot;white&quot;,
    fill = &quot;firebrick&quot;,
    alpha = 0.8
  ) +
  xlim(c(-0.05, .5)) +
  labs(
    y = &quot;&quot;,
    title = &quot;Samples from P2 Posterior&quot;,
    subtitle = &quot;Current State of Belief&quot;,
    x = &quot;P2: Probability of a Fracture Resulting in a Harm&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  )</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-12-1.png" width="100%" height="500px" /></p>
</div>
<div id="combine-to-estimate-ph" class="section level4">
<h4>Combine to Estimate Ph</h4>
<pre class="r"><code>joint_post_tbl &lt;- p1_post_draws_tbl %&gt;%
  bind_cols(p2_post_draws_tbl) %&gt;%
  rename(
    p1_draws = draws...1,
    p2_draws = draws...2
  ) %&gt;%
  mutate(p1_x_p2 = p1_draws * p2_draws)

joint_post_tbl %&gt;%
  ggplot(aes(x = p1_x_p2)) +
  geom_histogram(
    binwidth = .0001,
    color = &quot;white&quot;,
    fill = &quot;purple&quot;,
    alpha = 0.8
  ) +
  labs(
    y = &quot;&quot;,
    title = &quot;Ph - Probabilty Model of Fracture Occurring AND Resulting in Harm&quot;,
    subtitle = &quot;Current State&quot;,
    x = &quot;Ph: Probabilty of Fracture Occurring AND Resulting in Harm&quot;
  ) +
  theme_bw() +
  theme(
    axis.text.y = element_blank(),
    axis.ticks.y = element_blank()
  ) +
  xlim(c(-.001, .03))</code></pre>
<p><img src="/post/2021-12-29-a-real-world-use-case-for-a-bayesian-reliability-model_files/figure-html/unnamed-chunk-13-1.png" width="100%" height="500px" /></p>
<p>The above plot can also be summarized in tabular form.</p>
<pre class="r"><code>joint_post_tbl %&gt;%
  select(p1_x_p2) %&gt;%
  mutate_if(is.numeric, round, 4) %&gt;%
  median_qi(.width = .95) %&gt;%
  gt() %&gt;%
  cols_align(&quot;center&quot;) %&gt;%
  opt_row_striping(row_striping = TRUE) %&gt;%
  tab_header(
    title = &quot;Summary of Ph Posterior&quot;,
    subtitle = &quot;Based on Bayesian Beta/Binomial Model&quot;
  ) %&gt;%
  cols_width(everything() ~ px(100)) %&gt;%
  tab_style(
    style = list(
      cell_text(weight = &quot;bold&quot;)
    ),
    locations = cells_column_labels(columns = everything())
  )</code></pre>
<div id="iobhrrvdid" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#iobhrrvdid .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#iobhrrvdid .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iobhrrvdid .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#iobhrrvdid .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#iobhrrvdid .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iobhrrvdid .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#iobhrrvdid .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#iobhrrvdid .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#iobhrrvdid .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#iobhrrvdid .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#iobhrrvdid .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#iobhrrvdid .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#iobhrrvdid .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#iobhrrvdid .gt_from_md > :first-child {
  margin-top: 0;
}

#iobhrrvdid .gt_from_md > :last-child {
  margin-bottom: 0;
}

#iobhrrvdid .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#iobhrrvdid .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#iobhrrvdid .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iobhrrvdid .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#iobhrrvdid .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#iobhrrvdid .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#iobhrrvdid .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#iobhrrvdid .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#iobhrrvdid .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iobhrrvdid .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#iobhrrvdid .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#iobhrrvdid .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#iobhrrvdid .gt_left {
  text-align: left;
}

#iobhrrvdid .gt_center {
  text-align: center;
}

#iobhrrvdid .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#iobhrrvdid .gt_font_normal {
  font-weight: normal;
}

#iobhrrvdid .gt_font_bold {
  font-weight: bold;
}

#iobhrrvdid .gt_font_italic {
  font-style: italic;
}

#iobhrrvdid .gt_super {
  font-size: 65%;
}

#iobhrrvdid .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<table class="gt_table" style="table-layout: fixed;; width: 0px">
  <colgroup>
    <col style="width:100px;"/>
    <col style="width:100px;"/>
    <col style="width:100px;"/>
    <col style="width:100px;"/>
    <col style="width:100px;"/>
    <col style="width:100px;"/>
  </colgroup>
  <thead class="gt_header">
    <tr>
      <th colspan="6" class="gt_heading gt_title gt_font_normal" style>Summary of Ph Posterior</th>
    </tr>
    <tr>
      <th colspan="6" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style>Based on Bayesian Beta/Binomial Model</th>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">p1_x_p2</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">.lower</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">.upper</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">.width</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">.point</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" style="font-weight: bold;">.interval</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_center">0.0016</td>
<td class="gt_row gt_center">0</td>
<td class="gt_row gt_center">0.014</td>
<td class="gt_row gt_center">0.95</td>
<td class="gt_row gt_center">median</td>
<td class="gt_row gt_center">qi</td></tr>
  </tbody>
  
  
</table>
</div>
<p>We have arrived at an estimate for Ph, the probability of the fracture occurring and resulting in a harm. A point estimate is .0016 or 16 out of 1000. A decision made off this single value may result in pushing a product that seems relatively safe. But the 95% credible interval covers up to .014 or 1.4 in 100 which would not be acceptable in most circumstances. The Bayesian approach has allowed us to carry that uncertainty all the way through the calculations to make a more informed decision.</p>
<p>This is the distillation of a lot of work to prepare the problem for a business decision: do nothing, initiate a redesign, or proceed with more testing.</p>
<p><strong>In this hypothetical example, credible risk values above 1% are likely too high to proceed without design changes or additional testing.</strong></p>
<p>If you’ve made it this far, I thank you for your attention.</p>
</div>
</div>
</div>
<div id="sessioninfo" class="section level2">
<h2>SessionInfo</h2>
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>## R version 4.0.3 (2020-10-10)
## Platform: x86_64-w64-mingw32/x64 (64-bit)
## Running under: Windows 10 x64 (build 18363)
## 
## Matrix products: default
## 
## locale:
## [1] LC_COLLATE=English_United States.1252 
## [2] LC_CTYPE=English_United States.1252   
## [3] LC_MONETARY=English_United States.1252
## [4] LC_NUMERIC=C                          
## [5] LC_TIME=English_United States.1252    
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] tidybayes_2.3.1 gt_0.2.2        forcats_0.5.0   stringr_1.4.0  
##  [5] dplyr_1.0.7     purrr_0.3.4     readr_1.4.0     tidyr_1.1.3    
##  [9] tibble_3.1.4    ggplot2_3.3.5   tidyverse_1.3.0
## 
## loaded via a namespace (and not attached):
##  [1] Rcpp_1.0.7           lattice_0.20-41      lubridate_1.7.9.2   
##  [4] assertthat_0.2.1     digest_0.6.28        utf8_1.2.2          
##  [7] plyr_1.8.6           R6_2.5.1             cellranger_1.1.0    
## [10] backports_1.2.0      reprex_0.3.0         evaluate_0.14       
## [13] coda_0.19-4          highr_0.9            httr_1.4.2          
## [16] blogdown_0.15        pillar_1.6.2         rlang_0.4.11        
## [19] readxl_1.3.1         rstudioapi_0.13      jquerylib_0.1.4     
## [22] checkmate_2.0.0      rmarkdown_2.11       labeling_0.4.2      
## [25] munsell_0.5.0        broom_0.7.8          compiler_4.0.3      
## [28] modelr_0.1.8         xfun_0.26            pkgconfig_2.0.3     
## [31] htmltools_0.5.2      tidyselect_1.1.1     bookdown_0.21       
## [34] arrayhelpers_1.1-0   fansi_0.5.0          crayon_1.4.1        
## [37] dbplyr_2.0.0         withr_2.4.2          distributional_0.2.1
## [40] ggdist_2.3.0         grid_4.0.3           jsonlite_1.7.2      
## [43] gtable_0.3.0         lifecycle_1.0.1      DBI_1.1.0           
## [46] magrittr_2.0.1       scales_1.1.1         cli_3.0.1           
## [49] stringi_1.7.4        farver_2.1.0         fs_1.5.0            
## [52] xml2_1.3.2           bslib_0.3.0          ellipsis_0.3.2      
## [55] generics_0.1.0       vctrs_0.3.8          tools_4.0.3         
## [58] svUnit_1.0.3         glue_1.4.2           hms_0.5.3           
## [61] fastmap_1.1.0        yaml_2.2.1           colorspace_2.0-2    
## [64] rvest_0.3.6          knitr_1.34           haven_2.3.1         
## [67] sass_0.4.0</code></pre>
</div>
</div>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p><a href="https://www.greenlight.guru/blog/en-iso-149712012-risk-assessment-explained" class="uri">https://www.greenlight.guru/blog/en-iso-149712012-risk-assessment-explained</a><a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>We will ignore the Severity adjustment typically involved in risk calculations per EN ISO 14971 for simplicity<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p><a href="https://nitinol.com/wp-content/uploads/2017/11/a666400cdba78b589ce578e17fc2c3fd.pdf" class="uri">https://nitinol.com/wp-content/uploads/2017/11/a666400cdba78b589ce578e17fc2c3fd.pdf</a><a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p><a href="https://www.bayesrulesbook.com/chapter-3.html" class="uri">https://www.bayesrulesbook.com/chapter-3.html</a><a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>

  

  
<div class="prev-next-post pure-g">
  <div class="pure-u-1-24" style="text-align: left;">
    
    <a href="/post/evaluating-the-gonogo-package-for-sensitivity-testing-in-r/"><i class="fa fa-chevron-left"></i></a>
    
  </div>
  <div class="pure-u-10-24">
    
    <nav class="prev">
      <a href="/post/evaluating-the-gonogo-package-for-sensitivity-testing-in-r/">Durability Testing of Stents Using Sensitivity-Based Methods in R</a>
    </nav>
    
  </div>
  <div class="pure-u-2-24">
    &nbsp;
  </div>
  <div class="pure-u-10-24">
    
    <nav class="next">
      <a href="/post/learning-from-failure-nitinol-fracture-mechanics-in-r/">Learning from Failure - Nitinol Fracture Mechanics in R</a>
    </nav>
    
  </div>
  <div class="pure-u-1-24" style="text-align: right;">
    
    <a href="/post/learning-from-failure-nitinol-fracture-mechanics-in-r/"><i class="fa fa-chevron-right"></i></a>
    
  </div>
</div>




</div>

</div>
</div>
<script src="/js/ui.js"></script>
<script src="/js/menus.js"></script>


<script>
  
  if (window.location.hostname != "localhost") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'Your Google Analytics tracking ID', 'auto');
    ga('send', 'pageview');
  }
</script>





<script src="/js/math-code.js"></script>
  <script async src="//cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
  


</body>
</html>

